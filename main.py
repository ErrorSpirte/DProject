import discord
from discord.ext import commands
import random, requests
from bs4 import BeautifulSoup
from collections import Counter

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
intents = discord.Intents.default()
intents.message_content = True
bot = commands.Bot(command_prefix='!', intents=intents, case_insensitive=True)

# –§–∞–∫—Ç—ã –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏
climate_facts = [
    "–°—Ä–µ–¥–Ω—è—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 1,1¬∞C c –∫–æ–Ω—Ü–∞ 19 –≤–µ–∫–∞.",
    "–£—Ä–æ–≤–µ–Ω—å –º–∏—Ä–æ–≤–æ–≥–æ –æ–∫–µ–∞–Ω–∞ –ø–æ–≤—ã—Å–∏–ª—Å—è –Ω–∞ 20 —Å–º –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 –ª–µ—Ç.",
    "–ê—Ä–∫—Ç–∏—á–µ—Å–∫–∏–π –ª–µ–¥ —Ç–∞–µ—Ç co —Å–∫–æ—Ä–æ—Å—Ç—å—é 13% –∑–∞ –¥–µ—Å—è—Ç–∏–ª–µ—Ç–∏–µ.",
    "–ö–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–∏–ª–∏–≤–∞—é—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –ø–æ–≥–æ–¥–Ω—ã–µ —è–≤–ª–µ–Ω–∏—è.",
    "–û–∫–µ–∞–Ω—ã –ø–æ–≥–ª–æ—â–∞—é—Ç –æ–∫–æ–ª–æ 30% –∞–Ω—Ç—Ä–æ–ø–æ–≥–µ–Ω–Ω–æ–≥–æ CO2, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∏—Ö –ø–æ–¥–∫–∏—Å–ª–µ–Ω–∏—é.",
    "97% –∫–ª–∏–º–∞—Ç–æ–ª–æ–≥–æ–≤ —Å–æ–≥–ª–∞—à–∞—é—Ç—Å—è, —á—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.",
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ —É–≥—Ä–æ–∂–∞–µ—Ç –±–∏–æ—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—é –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞–º.",
    "–ü–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ 2¬∞C –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—é 99% –∫–æ—Ä–∞–ª–ª–æ–≤—ã—Ö —Ä–∏—Ñ–æ–≤.",
    "B –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –ª–µ—Ç –º—ã –≤–∏–¥–∏–º –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ.",
    "–ü–∞—Ä–∏–∂—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ —Å—Ç–∞–≤–∏—Ç —Ü–µ–ª—å —É–¥–µ—Ä–∂–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω–∏–∂–µ 2¬∞C.",
    "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É —Å–∏–ª—å–Ω—ã—Ö —à—Ç–æ—Ä–º–æ–≤ –∏ —É—Ä–∞–≥–∞–Ω–æ–≤.",
    "–¢–∞—è–Ω–∏–µ –ª–µ–¥–Ω–∏–∫–æ–≤ –∏ –ª—å–¥–æ–≤ –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥—ã —É–≥—Ä–æ–∂–∞–µ—Ç –ø—Ä–∏–±—Ä–µ–∂–Ω—ã–º —Ä–µ–≥–∏–æ–Ω–∞–º.",
    "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É–≤–µ–ª–∏—á–µ–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–µ—Å–Ω—ã—Ö –ø–æ–∂–∞—Ä–æ–≤.",
    "–ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –±–æ–ª–µ–∑–Ω–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –º–∞–ª—è—Ä–∏—è.",
    "–û–∫–µ–∞–Ω—ã –Ω–∞–≥—Ä–µ–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∫–æ–≥–¥–∞-–ª–∏–±–æ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –ª–µ—Ç."]

fact_counter = Counter()

# –ü–æ–ª—É—á–µ–Ω–∏—è —à—É—Ç–æ–∫ 1
def get_joke(type='general'):
    url = "https://www.anekdot.ru/last/good/" if type == 'general' else "https://www.anekdot.ru/last/black/"
    
    try:
        response = requests.get(url)
        response.raise_for_status()  # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞
        soup = BeautifulSoup(response.text, 'html.parser')
        
        # –ü–æ–∏—Å–∫ –∞–Ω–µ–∫–¥–æ—Ç–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ
        jokes = soup.find_all('div', class_='text')
        if jokes:
            return random.choice(jokes).get_text(strip=True)
        else:
            return "He —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —à—É—Ç–∫–∏. –í–æ–∑–º–æ–∂–Ω–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å."
    except requests.RequestException as e:
        return f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —à—É—Ç–∫–∏: {e}"
    except Exception as e:
        return f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞: {e}"

# –ü–æ–ª—É—á–µ–Ω–∏—è —à—É—Ç–æ–∫ 2
@bot.command(name='joke')
async def joke(ctx, type='general'):
    joke_text = get_joke(type)
    await ctx.send(joke_text)

# –ú–∞–≥–∏—á–µ—Å–∫–∏–π —à–∞—Ä
@bot.command(name='magic')
async def magic(ctx, *, question=None):
    if question and len(question) > 2 and question.endswith('?'):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –±—É–∫–≤ –≤ –≤–æ–ø—Ä–æ—Å–µ
        if any(c.isalpha() for c in question):
            await ctx.send(magic_ball())
        else:
            await ctx.send("–ò–∑–≤–∏–Ω–∏ —É–∂, –Ω–æ —ç—Ç–æ –Ω–µ –≤–æ–ø—Ä–æ—Å")
    else:
        await ctx.send("–ò–∑–≤–∏–Ω–∏ —É–∂, –Ω–æ —ç—Ç–æ –Ω–µ –≤–æ–ø—Ä–æ—Å")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —à–∞—Ä–∞
def magic_ball():
    responses = ["–î–∞", "–ù–µ—Ç", "–í–æ–∑–º–æ–∂–Ω–æ", "He –∑–Ω–∞—é"]
    return random.choice(responses)

# –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∞–∫—Ç–∞ –æ –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏
@bot.command(name='climate_facts')
async def send_climate_facts(ctx):
    if len(fact_counter) == len(climate_facts):
        fact_counter.clear()  # –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ–≤
    fact = random.choice([f for f in climate_facts if fact_counter[f] < 2])
    fact_counter[fact] += 1
    await ctx.send(f"üåç {fact}")

# –û–±—ä—è—Å–Ω–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏—è
@bot.command(name='what_is_global_warming')
async def what_is_global_warming(ctx):
    await ctx.send(
        "üå°Ô∏è –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ó–µ–º–ª–∏ –∏–∑-–∑–∞ –≤—ã–±—Ä–æ—Å–æ–≤ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤. "
        "–≠—Ç–∏ –≥–∞–∑—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ CO2 –∏ –º–µ—Ç–∞–Ω, —Å–æ–∑–¥–∞—é—Ç –ø–∞—Ä–Ω–∏–∫–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç, –∑–∞–¥–µ—Ä–∂–∏–≤–∞—è —Ç–µ–ø–ª–æ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ.")

# –û–±—ä—è—Å–Ω–µ–Ω–∏—è –≤–∞–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã
@bot.command(name='why_important')
async def why_important(ctx):
    await ctx.send(
        "üî• –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –≤–∞–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–∏–º–∞—Ç–∞, "
        "–∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º –ø–æ–≥–æ–¥–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º, –ø–æ–¥–Ω—è—Ç–∏—é —É—Ä–æ–≤–Ω—è –º–æ—Ä—è, "
        "—Å–Ω–∏–∂–µ–Ω–∏—é —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—é —ç–∫–æ—Å–∏—Å—Ç–µ–º.")

# –°–æ–≤–µ—Ç—ã –ø–æ –±–æ—Ä—å–±–µ —Å –ø—Ä–æ–±–ª–µ–º–æ–π
@bot.command(name='how_to_mitigate')
async def how_to_mitigate(ctx):
    await ctx.send(
        "‚ôªÔ∏è –ß—Ç–æ–±—ã –±–æ—Ä–æ—Ç—å—Å—è c –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ–º, –≤—ã –º–æ–∂–µ—Ç–µ:\n"
        "1. –°–æ–∫—Ä–∞—Ç–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏.\n"
        "2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —ç–Ω–µ—Ä–≥–∏–∏.\n"
        "3. –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Å—Ç–∏–∫–∞.\n"
        "4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É—Å—Ç–æ–π—á–∏–≤—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.\n"
        "5. –°–æ–∫—Ä–∞—Ç–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–æ—Å–æ–≤ —É–≥–ª–µ—Ä–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–ª–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥—ã.")

# –ó–∞–¥–∞–Ω–∏–µ —ç–∫–æ-—á–µ–ª–ª–µ–Ω–¥–∂–∞
@bot.command(name='eco_challenge')
async def eco_challenge(ctx):
    challenges = [
        "üö∂ –ü—Ä–æ–π–¥–∏ 10 000 —à–∞–≥–æ–≤ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.",
        "üå≥ –ü–æ—Å–∞–¥–∏ –¥–µ—Ä–µ–≤–æ.",
        "üí° –í—ã–∫–ª—é—á–∏ —Å–≤–µ—Ç, –∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å e–≥o.",
        "üì¶ –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Å—Ç–∏–∫–∞ –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å.",
        "üö≤ –ò—Å–ø–æ–ª—å–∑—É–π –≤–µ–ª–æ—Å–∏–ø–µ–¥ –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è —Å–µ–≥–æ–¥–Ω—è."
        "‚ôªÔ∏è –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ –±–µ–∑–æ—Ç—Ö–æ–¥–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ –æ–¥–∏–Ω –¥–µ–Ω—å.",
        "üõí –ö—É–ø–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—é –º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞."
    ]
    challenge = random.choice(challenges)
    await ctx.send(f"üå± –í–∞—à —ç–∫–æ-—á–µ–ª–ª–µ–Ω–¥–∂ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è: {challenge}")

# –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–ª–∏
user_goals = {}

@bot.command(name='track_goal')
async def track_goal(ctx, *, goal):
    user_goals[ctx.author.id] = goal
    await ctx.send(f"üéØ –¶–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: {goal}")

# –ü–æ–∫–∞–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
@bot.command(name='progress')
async def progress(ctx):
    goal = user_goals.get(ctx.author.id, None)
    if goal:
        await ctx.send(f"üìà –í–∞—à–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–ª—å: {goal}")
    else:
        await ctx.send("‚ùó –£ –≤–∞—Å –Ω–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Ü–µ–ª–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ !track_goal, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—ë.")

# –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
@bot.command(name='commands')
async def send_commands_list(ctx):
    commands_list = """
    üìú –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:
    !climate_facts - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–∞–∫—Ç o –≥–ª–æ–±–∞–ª—å–Ω–æ–º –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–∏.
    !what_is_global_warming - –û–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ —Ç–∞–∫–æ–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ.
    !why_important - –ì–æ–≤–æ—Ä–∏—Ç, –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ.
    !how_to_mitigate - –î–∞–µ—Ç —Å–æ–≤–µ—Ç—ã, –∫–∞–∫ –±–æ—Ä–æ—Ç—å—Å—è c –ø—Ä–æ–±–ª–µ–º–æ–π.

    !eco_challenge - –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ —ç–∫–æ-–∑–∞–¥–∞–Ω–∏–µ.
    !track_goal - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ü–µ–ª—å, –±–æ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
    !progress - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

    !joke [type] - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —à—É—Ç–∫—É. –¢–∏–ø—ã: general, dark.
    !magic [–≤–æ–ø—Ä–æ—Å] - –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —à–∞—Ä–∞.
    !commands - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥.
    """
    await ctx.send(commands_list)

# –í—ã–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞ –∏ –æ—á–∏—Å—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
@bot.command(name='shutdown')
@commands.is_owner()
async def shutdown(ctx):
    await ctx.send("üõë Bot is shutting down...")
    await bot.close()

@bot.command(name='clear')
@commands.is_owner()
async def clear(ctx, amount: int = 10):
    """–û—á–∏—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ n —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)."""
    deleted = await ctx.channel.purge(limit=amount)
    await ctx.send(f"üßπ –£–¥–∞–ª–µ–Ω–æ {len(deleted)} —Å–æ–æ–±—â–µ–Ω–∏–π.", delete_after=5)

# –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–µ–ª–µ–π
import json

def load_goals():
    global user_goals
    try:
        with open('goals.json', 'r') as f:
            user_goals = json.load(f)
    except FileNotFoundError:
        user_goals = {}

def save_goals():
    with open('goals.json', 'w') as f:
        json.dump(user_goals, f)

@bot.event
async def on_ready():
    print("Bot is online!")
    load_goals()
    for guild in bot.guilds:
        for channel in guild.text_channels:
            await channel.send('Bot is online! Use "!commands" to see commands.')

@bot.event
async def on_disconnect():
    save_goals()

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bot.run('Paste your Token here')